<script>
  const vendorsProductsRaw = {
    'VideoLAN': [
      'VLC media player'
    ],
    'CentOS': [
      'NetworkManager',
      'NetworkManager-adsl',
      'NetworkManager-bluetooth',
      'NetworkManager-config-server',
      'NetworkManager-glib',
      'NetworkManager-libnm',
      'NetworkManager-ppp',
      'NetworkManager-team',
      'NetworkManager-tui',
      'NetworkManager-wifi',
      'NetworkManager-wwan',
      'PackageKit',
      'PackageKit-glib',
      'SDL',
      'accountsservice',
      'accountsservice-libs',
      'appstream-data',
      'atk',
      'avahi',
      'avahi-glib',
      'avahi-gobject',
      'avahi-libs',
      'avahi-ui-gtk3',
      'baobab',
      'bash',
      'bind-export-libs',
      'bind-libs',
      'bind-libs-lite',
      'bind-license',
      'bind-utils',
      'binutils',
      'blktrace',
      'bluez',
      'bluez-libs',
      'bluez-obexd',
      'bpftool',
      'buildah',
      'clevis',
      'clevis-luks',
      'clutter',
      'colord',
      'colord-libs',
      'container-selinux',
      'containernetworking-plugins',
      'containers-common',
      'control-center',
      'control-center-filesystem',
      'cpio',
      'cpp',
      'criu',
      'cryptsetup',
      'cryptsetup-libs',
      'cups',
      'cups-client',
      'cups-filesystem',
      'cups-libs',
      'curl',
      'cyrus-sasl',
      'cyrus-sasl-gssapi',
      'cyrus-sasl-lib',
      'cyrus-sasl-plain',
      'dbus',
      'dbus-common',
      'dbus-daemon',
      'dbus-libs',
      'dbus-tools',
      'dbus-x11',
      'dhclient',
      'dhcp-client',
      'dhcp-common',
      'dhcp-libs',
      'dnf',
      'dnf-data',
      'dnf-plugins-core',
      'dnsmasq',
      'dracut',
      'dracut-config-rescue',
      'dracut-network',
      'dracut-squash',
      'e2fsprogs',
      'e2fsprogs-libs',
      'edk2-ovmf',
      'elfutils',
      'elfutils-default-yama-scope',
      'elfutils-libelf',
      'elfutils-libs',
      'emacs-filesystem',
      'evince',
      'evince-libs',
      'evince-nautilus',
      'evolution-data-server',
      'evolution-data-server-langpacks',
      'exempi',
      'exiv2',
      'exiv2-libs',
      'expat',
      'file',
      'file-libs',
      'file-roller',
      'firefox',
      'flatpak',
      'flatpak-libs',
      'freerdp-libs',
      'freetype',
      'fribidi',
      'fuse-overlayfs',
      'fwupd',
      'fwupdate-efi',
      'fwupdate-libs',
      'gcc',
      'gcc-c++',
      'gcc-gdb-plugin',
      'gd',
      'gdb',
      'gdb-headless',
      'gdk-pixbuf2',
      'gdk-pixbuf2-modules',
      'gdm',
      'gettext',
      'gettext-common-devel',
      'gettext-devel',
      'gettext-libs',
      'ghostscript',
      'ghostscript-cups',
      'git',
      'git-core',
      'git-core-doc',
      'gjs',
      'glib2',
      'glibc',
      'glibc-common',
      'glibc-devel',
      'glibc-headers',
      'glibc-langpack-en',
      'gnome-boxes',
      'gnome-classic-session',
      'gnome-color-manager',
      'gnome-control-center',
      'gnome-control-center-filesystem',
      'gnome-desktop3',
      'gnome-menus',
      'gnome-online-accounts',
      'gnome-remote-desktop',
      'gnome-session',
      'gnome-session-wayland-session',
      'gnome-session-xsession',
      'gnome-settings-daemon',
      'gnome-shell',
      'gnome-shell-extension-alternate-tab',
      'gnome-shell-extension-apps-menu',
      'gnome-shell-extension-common',
      'gnome-shell-extension-desktop-icons',
      'gnome-shell-extension-launch-new-instance',
      'gnome-shell-extension-places-menu',
      'gnome-shell-extension-top-icons',
      'gnome-shell-extension-user-theme',
      'gnome-shell-extension-window-list',
      'gnome-software',
      'gnome-terminal',
      'gnome-terminal-nautilus',
      'gnome-tweak-tool',
      'gnupg2',
      'gnupg2-smime',
      'gnutls',
      'grub2',
      'grub2-common',
      'grub2-pc',
      'grub2-pc-modules',
      'grub2-tools',
      'grub2-tools-extra',
      'grub2-tools-minimal',
      'gsettings-desktop-schemas',
      'gstreamer1',
      'gstreamer1-plugins-bad-free',
      'gstreamer1-plugins-base',
      'gstreamer1-plugins-good',
      'gstreamer1-plugins-ugly-free',
      'gtk-update-icon-cache',
      'gtk3',
      'gtk3-immodule-xim',
      'gvfs',
      'gvfs-afc',
      'gvfs-afp',
      'gvfs-archive',
      'gvfs-client',
      'gvfs-fuse',
      'gvfs-goa',
      'gvfs-gphoto2',
      'gvfs-mtp',
      'gvfs-smb',
      'http-parser',
      'httpd',
      'httpd-filesystem',
      'httpd-manual',
      'httpd-tools',
      'hunspell',
      'ibus',
      'ibus-gtk2',
      'ibus-gtk3',
      'ibus-libs',
      'ibus-setup',
      'icedtea-web',
      'ipa-client',
      'ipa-client-common',
      'ipa-common',
      'iwl100-firmware',
      'iwl1000-firmware',
      'iwl105-firmware',
      'iwl135-firmware',
      'iwl2000-firmware',
      'iwl2030-firmware',
      'iwl3160-firmware',
      'iwl3945-firmware',
      'iwl4965-firmware',
      'iwl5000-firmware',
      'iwl5150-firmware',
      'iwl6000-firmware',
      'iwl6000g2a-firmware',
      'iwl6000g2b-firmware',
      'iwl6050-firmware',
      'iwl7260-firmware',
      'iwl7265-firmware',
      'java-1.7.0-openjdk',
      'java-1.7.0-openjdk-headless',
      'java-1.8.0-openjdk',
      'java-1.8.0-openjdk-headless',
      'jbig2dec-libs',
      'kernel',
      'kernel-core',
      'kernel-debug-devel',
      'kernel-devel',
      'kernel-headers',
      'kernel-modules',
      'kernel-tools',
      'kernel-tools-libs',
      'ksh',
      'libX11',
      'libX11-common',
      'libX11-devel',
      'libarchive',
      'libatomic',
      'libcanberra',
      'libcanberra-gtk2',
      'libcanberra-gtk3',
      'libcgroup',
      'libcgroup-tools',
      'libcom_err',
      'libcomps',
      'libcroco',
      'libcurl',
      'libdnf',
      'libertas-usb8388-firmware',
      'libexif',
      'libgcc',
      'libgcrypt',
      'libgexiv2',
      'libgomp',
      'libgovirt',
      'libgs',
      'libgudev1',
      'libgweather',
      'libicu',
      'libipa_hbac',
      'libjpeg-turbo',
      'libldb',
      'liblouis',
      'libmspack',
      'libnftnl',
      'libnghttp2',
      'libosinfo',
      'libpcap',
      'libpng',
      'libpq',
      'librados2',
      'librbd1',
      'librepo',
      'libreswan',
      'librsvg2',
      'libseccomp',
      'libsmbclient',
      'libsndfile',
      'libsolv',
      'libsoup',
      'libsrtp',
      'libss',
      'libssh',
      'libssh2',
      'libsss_autofs',
      'libsss_certmap',
      'libsss_idmap',
      'libsss_nss_idmap',
      'libsss_sudo',
      'libstdc++',
      'libstdc++-devel',
      'libtiff',
      'libudisks2',
      'libvirt-daemon',
      'libvirt-daemon-config-network',
      'libvirt-daemon-driver-interface',
      'libvirt-daemon-driver-network',
      'libvirt-daemon-driver-nodedev',
      'libvirt-daemon-driver-nwfilter',
      'libvirt-daemon-driver-qemu',
      'libvirt-daemon-driver-secret',
      'libvirt-daemon-driver-storage',
      'libvirt-daemon-driver-storage-core',
      'libvirt-daemon-driver-storage-disk',
      'libvirt-daemon-driver-storage-gluster',
      'libvirt-daemon-driver-storage-iscsi',
      'libvirt-daemon-driver-storage-logical',
      'libvirt-daemon-driver-storage-mpath',
      'libvirt-daemon-driver-storage-rbd',
      'libvirt-daemon-driver-storage-scsi',
      'libvirt-daemon-kvm',
      'libvirt-libs',
      'libvncserver',
      'libvorbis',
      'libvpx',
      'libwbclient',
      'libwsman1',
      'libxkbcommon',
      'libxkbcommon-x11',
      'libxml2',
      'libxml2-python',
      'libxslt',
      'linux-firmware',
      'lldpad',
      'lua',
      'lua-libs',
      'mariadb-connector-c',
      'mariadb-connector-c-config',
      'mariadb-libs',
      'mecab',
      'microcode_ctl',
      'mod_http2',
      'mod_ssl',
      'mokutil',
      'mozjs52',
      'mutter',
      'mysql',
      'mysql-common',
      'mysql-errmsg',
      'mysql-server',
      'nautilus',
      'nautilus-extensions',
      'net-snmp',
      'net-snmp-agent-libs',
      'net-snmp-libs',
      'net-snmp-utils',
      'nginx-filesystem',
      'nspr',
      'nss',
      'nss-softokn',
      'nss-softokn-freebl',
      'nss-sysinit',
      'nss-tools',
      'nss-util',
      'ntp',
      'ntpdate',
      'oci-systemd-hook',
      'openjpeg2',
      'openldap',
      'openssh',
      'openssh-clients',
      'openssh-server',
      'openssl',
      'openssl-libs',
      'openwsman-client',
      'orc',
      'osinfo-db',
      'osinfo-db-tools',
      'ostree-libs',
      'pango',
      'patch',
      'pcre2',
      'pcre2-utf16',
      'perf',
      'perl-Errno',
      'perl-Git',
      'perl-IO',
      'perl-Math-Complex',
      'perl-interpreter',
      'perl-libs',
      'perl-macros',
      'php',
      'php-cli',
      'php-common',
      'php-fpm',
      'php-gd',
      'php-intl',
      'php-json',
      'php-mbstring',
      'php-mysqlnd',
      'php-pdo',
      'php-pecl-apcu',
      'php-xml',
      'platform-python',
      'platform-python-pip',
      'plymouth',
      'plymouth-core-libs',
      'plymouth-scripts',
      'podman',
      'polkit',
      'poppler',
      'poppler-glib',
      'poppler-utils',
      'ppp',
      'procps-ng',
      'protobuf-lite',
      'python',
      'python-libipa_hbac',
      'python-libs',
      'python-perf',
      'python-requests',
      'python-sss-murmur',
      'python-sssdconfig',
      'python-urllib3',
      'python2-ipaclient',
      'python2-ipalib',
      'python3-bind',
      'python3-dnf',
      'python3-dnf-plugins-core',
      'python3-gobject',
      'python3-gobject-base',
      'python3-hawkey',
      'python3-libcomps',
      'python3-libdnf',
      'python3-librepo',
      'python3-libs',
      'python3-libvirt',
      'python3-libxml2',
      'python3-louis',
      'python3-netaddr',
      'python3-perf',
      'python3-pip',
      'python3-six',
      'python3-sssdconfig',
      'python3-unbound',
      'python3-urllib3',
      'python36',
      'qemu-guest-agent',
      'qemu-img',
      'qemu-kvm',
      'qemu-kvm-common',
      'qt5-qtbase',
      'qt5-qtbase-common',
      'qt5-qtbase-devel',
      'qt5-qtbase-gui',
      'qt5-qtsvg',
      'qt5-rpm-macros',
      'qt5-srpm-macros',
      'rsyslog',
      'rsyslog-gnutls',
      'rsyslog-gssapi',
      'rsyslog-relp',
      'runc',
      'samba',
      'samba-client',
      'samba-client-libs',
      'samba-common',
      'samba-common-libs',
      'samba-common-tools',
      'samba-libs',
      'sane-backends',
      'sane-backends-drivers-cameras',
      'sane-backends-drivers-scanners',
      'sane-backends-libs',
      'shared-mime-info',
      'shim-x64',
      'slirp4netns',
      'smartmontools',
      'sox',
      'spice-glib',
      'spice-gtk3',
      'spice-server',
      'spice-vdagent',
      'sqlite',
      'sqlite-libs',
      'sssd',
      'sssd-ad',
      'sssd-client',
      'sssd-common',
      'sssd-common-pac',
      'sssd-ipa',
      'sssd-kcm',
      'sssd-krb5',
      'sssd-krb5-common',
      'sssd-ldap',
      'sssd-nfs-idmap',
      'sssd-proxy',
      'sudo',
      'sysstat',
      'systemd',
      'systemd-container',
      'systemd-libs',
      'systemd-pam',
      'systemd-python',
      'systemd-sysv',
      'systemd-udev',
      'taglib',
      'targetcli',
      'tcpdump',
      'telnet',
      'tigervnc',
      'tigervnc-icons',
      'tigervnc-license',
      'tigervnc-server-minimal',
      'tracker',
      'udisks2',
      'unbound-libs',
      'unzip',
      'vim-common',
      'vim-enhanced',
      'vim-filesystem',
      'vim-minimal',
      'vinagre',
      'wavpack',
      'webkit2gtk3',
      'webkit2gtk3-jsc',
      'webkit2gtk3-plugin-process-gtk2',
      'webkitgtk4',
      'webkitgtk4-jsc',
      'wget',
      'xorg-x11-drv-ati',
      'xorg-x11-drv-vesa',
      'xorg-x11-drv-wacom',
      'xorg-x11-server-Xorg',
      'xorg-x11-server-common',
      'xorg-x11-xauth',
      'yum',
      'zsh'
    ],
    'Martin Prikryl': [
      'WinSCP'
    ],
    'Mozilla': [
      'Firefox'
    ],
    'Irfan Skiljan': [
      'IrfanView'
    ],
    'Oracle': [
      'Java Runtime Environment'
    ]
  };

  function treeDataGen(branch, depth, parent) {
    return Array.from({ length: branch }).map((x, i) => {
      const v = parent ? `${parent}-${i}` : `${i}`;
      const node = { label: v, value: v };
      if (depth - 1 > 0) {
        node.children = treeDataGen(branch, depth - 1, v);
      }
      return node;
    });
  }

  export default {
    data() {
      return {
        affectedProducts: [],
        multiple: {
          withTree: {
            value: [],
            data: treeDataGen(500, 1)
          }
        }
      };
    },
    computed: {
      vendorsProducts() {
        return Object.keys(vendorsProductsRaw).map(vendor => ({
          label: vendor,
          value: vendor,
          children: vendorsProductsRaw[vendor].map(product => ({
            label: product,
            value: product
          }))
        }));
      }
    }
  };
</script>

<template>
  <div class="pa-24 ma-24">
    <div class="pa-8 ma-8">
      <acv-select
        v-model="multiple.withTree.value"
        label="Label"
        placeholder="Select"
        multiple
        select-all
      >
        <acv-tree
          :data="multiple.withTree.data"
          node-key="value"
          show-checkbox
        />
      </acv-select>
    </div>
    <div class="pa-8 ma-8">
      <acv-select
        v-model="affectedProducts"
        label="Affected products"
        multiple
        filterable
      >
        <acv-tree
          :data="vendorsProducts"
          show-checkbox
          node-key="value"
        />
      </acv-select>
    </div>
  </div>
</template>
